---
title: A Universally Unique IDentifier (UUID) URN Namespace 같이 읽기
published: 2025-06-30T21:57:00
modified: 2025-06-30T21:58:00
slug: "\ba-universally-unique-identifier"
image:
draft: true
tags:
  - UUID
  - CS
  - 논문
summary:
---

## UUID의 소개
이 문서는 UUID(Universally Unique IDentifier), 즉 GUID(Globally Unique IDentifier를 위한 URN(Uniform Resource Name) namespace를 정의한다. UUID는 128bit의 길이를 가지며, 중앙 등록 절차가 필요하지 않다.

이 정보는 UUID를 URN으로 사용하여 서비스를 구현하려는 사람들을 위한 간결한 지침서이다. 이 문서의 어떤 내용도 UUID를 정의한 DCE 표준을 무효화하는 것으로 해석되어서는 안된다.

이 문서의 이전 버전에서 파생된 ITU-T 권고 및 ISO/IEC 표준이 있다. 두 스펙은 서로 일치하며 기술적으로 완전히 호환된다. 또한 ITU-T 전기통신 표준화국에서 전역 등록 기능을 제공하고 있다. 자세한 내용은 http://www.itu.int/ITU-T/asn1/uuid.html에서 확인할 수 있다.

## UUID를 사용해야하는 이유
UUID를 사용하는 주된 이유 중 하나는 **중앙 관리 기관이 필요 없다**는 점이다. (일부 형식은 IEEE 082 노드 실별자를 사용하지만, 다른 형식은 그렇지 않다.) 결과적으로, UUID 생성이 필요에 따라 완전히 자동화 될 수 있다. 그리고 다양한 목적으로 활용할 수 있다. 여기에 기술된 UUID 생성 알고리즘은 필요한 경우 기계당 최대 1000만개/초 까지 매우 높은 할당 속도를 지원하므로 트랜잭션 ID로도 사용할 수 있다.

UUID는 다른 대안에 비해 상당히 작은 고정된 크기(128bit)를 가진다. 이는 모든 종류의 정렬, 순서 지정, 해싱, 데이터 베이스 저장, 단순 할당, 그리고 일반적인 프로그래밍의 용이성에 적합하다.

UUID는 고유하고 영속적이기 때문에 훌륭한 URN(Uniform Resource Name)이 된다. 등록 절차 없이 새로운 UUID를 생성할 수 있는 고유한 능력 덕분에 UUID는 발행 비용이 가장 낮은 URN 중 하나가 될 수 있다.

## UUID의 형태
UUID는 16개의 octet(=byte)로 이루어진다. 아래 명시된 8번째 octet의 variant 필드 중 일부 비트가 더 세부적인 구조를 결정한다.

### Variant
variant 필드는 UUID의 생김새를 결정한다. 이 말은 다른 모든 bit의 해석이 variant 필드가 어떻게 설정되었는지에 따라 달라진다는 뜻이다. 그렇기에, 더 정확히는 타입(type)필드라 불릴 수 있지만, 호환성을 위해 원래 용어를 유지한다. variant 필드는 UUID의 8번째 옥텟의 최상위 비트들 중 가변적인 수의 비트로 구성된다. (1개에서 3개)

다음의 테이블 리스트는 variant 필드의 구성으로, 'x'라 표기한 것은 그 값이 어떤 값이든 신경쓰지 않는다는 뜻이다.

| Msb0 | Msb1 | Msb2 | 설명                          |
| ---- | ---- | ---- | --------------------------- |
| 0    | x    | x    | NCS 하위 호환성을 위해 예약됨          |
| 1    | 0    | x    | 이 문서에서 설명할 variant          |
| 1    | 1    | 0    | 마이크로소프트사 하위 호환성을 위해 예약됨     |
| 1    | 1    | 1    | 현재는 사용되지 않으나, 추후 사용을 위해 남겨둠 |
(MSB: Most Significant Bit = 최상위 비트)

여기 정의된 것 외에 다른 variant와의 상호운용성은 어떤 형태로든 보장되지 않지만, 실제로는 문제가 될 가능성이 낮다.

### Layout과 Byte Order
옥텟 내부 bit 할당에 대한 혼란을 최소화하기 위해 UUID 레코드 정의는 정수 옥텟 단위의 필드로만 정의된다. 필드들은 최상위 필드부터 순서대로 제시된다.

| 필드                        | 타입             | 옥텟    | 설명                              |
| ------------------------- | -------------- | ----- | ------------------------------- |
| time_low                  | 부호 없는 32bit 정수 | 0-3   | 타임스탬프의 하위 필드                    |
| time_mid                  | 부호 없는 16bit 정수 | 4-5   | 타임스탬프의 중위 필드                    |
| time_hi_and_version       | 부호 없는 16bit 정수 | 6-7   | 타임스탬프의 상위 및 필드와 버전 넘버           |
| clock_seq_hi_and_reserved | 부호 없는 8bit 정수  | 8     | variant 및 clock sequence의 상위 필드 |
| clock_seq_low             | 부호 없는 8bit 정수  | 9     | clock sequence의 하위 필드           |
| node                      | 부호없는 48bit 정수  | 10-15 | 공간적으로 유일한 노드 식별자                |
별도로 명시하는 표기 방법이 없다면 UUID는 다음과 같이 128bit 객체로 인코딩된다.

```
   0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          time_low                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       time_mid                |         time_hi_and_version   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |clk_seq_hi_res |  clk_seq_low  |         node (0-1)            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         node (2-5)                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```
필드들은 16옥텟으로 인코딩되며, 사이즈, 필드들의 순서는 앞서 설명한 것과 동일하다. 각 필드는 최상위 바이트부터 먼저 인코딩된다. 참고로 필드 이름, 특히 다중화된 필드의 이름은 관례를 따른다.

### Version
버전 넘버는 timestamp 필드의 최상위 4비트(`time_hi_and_version` 필드의 4번째부터 7번째 비트)를 사용한다.

다음 테이블은 UUID Variant에 따른 버전들이다.

| Msb0 | Msb1 | Msb2 | Msb3 | 버전  | 설명                             |
| ---- | ---- | ---- | ---- | --- | ------------------------------ |
| 0    | 0    | 0    | 1    | 1   | 시간 기반                          |
| 0    | 0    | 1    | 0    | 2   | DCE 보안 버전 POSIX UID 포함         |
| 0    | 0    | 1    | 1    | 3   | MD5 해싱을 사용                     |
| 0    | 1    | 0    | 0    | 4   | 랜덤 혹은 수도 랜덤 생성기를 사용(이 문서에 기술됨) |
| 0    | 1    | 0    | 1    | 5   | SHA-1 해싱을 사용 (이 문서에 기술됨)       |
버전은 Variant가 타입으로 보는 것이 더 정확했듯, 서브 타입이라 보는 것이 더 정확하다. 이 역시 호환성을 위해 용어를 유지한다.

### Timestamp


## URN이란?


## UUID의 대안들


## 버전에 따른 차이
### 버전1



## Reference
https://datatracker.ietf.org/doc/html/rfc4122
